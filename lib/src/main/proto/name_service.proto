syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.example.grpc";

package grpc.sample;

message Student {
  string student_id = 1;
  string first_name = 2;
  string last_name = 3;
  string department = 4;
  repeated string completed_courses = 5;
}

message StudentListResponse {
  repeated Student students = 1;
}

message StudentResponse {
	
}

message DeleteStudentResponse {
	bool isSDeleted = 1;
	string message = 2;
}

message Course {
  string course_id = 1;
  string name = 2;
  string course_name = 3;
  repeated string related_courses = 4;
}

message CourseListResponse {
  repeated Course courses = 1;
}

message CourseResponse{

}

message DeleteCourseResponse {
	bool isCDeleted = 1;
	string message = 2;
}

message Account {
	string ac_id = 1;
	string ac_pw = 2;
	string first_name = 3;
	string last_name = 4;
	string department = 5;
	int32 ac_permiss = 6;
}

message CheckAccountResponse {
	bool check = 1;
	string message = 2;
}

message AddAccountResponse {
	bool check = 1;
	string message = 2;
}

message LoginResponse {
	bool check = 1;
	string access_token = 2;
	string refresh_token = 3;
	string ac_id = 4;
	int32 ac_permiss = 5;
	string ac_name = 6;
	string message = 7;
}

message RefreshTokenResponse {
  	string access_token = 1;
}

message ApplyCourseResponse {
	bool isApplied = 1;
	string message = 2;
}
	
message GetAllStudentRequest {

}

message GetAllCourseRequest {

}

message CheckAccountRequest {
	Account account = 1;
}

message AddAccountRequest {
	Account account = 1;
}

message GetStudentRequest {
	Student student = 1;
}

message GetCourseRequest{
	Course course = 1;
}

message GetSelStudentIdRequest {
	string student_id = 1;
}

message GetSelCourseIdRequest {
	string course_id = 1;
}

message LoginRequest {
	string ac_id = 1;
	string ac_pw = 2;
}

message RefreshTokenRequest {
  	string refresh_token = 1;
}

message ApplyCourseReqeust {
	string apply_acId = 1;
	string apply_acName = 2;
	repeated string apply_courses = 3;
}


service StudentService {
  rpc GetAllStudents (GetAllStudentRequest) returns (StudentListResponse) {};
  rpc GetAllCourses (GetAllCourseRequest) returns (CourseListResponse) {};
  rpc SetAllStudents (GetStudentRequest) returns (StudentResponse) {};
  rpc SetAllCourses (GetCourseRequest) returns (CourseResponse) {};
  rpc DeleteStudent (GetSelStudentIdRequest) returns (DeleteStudentResponse) {};
  rpc DeleteCourse (GetSelCourseIdRequest) returns (DeleteCourseResponse) {};
  rpc CheckSignUpAccount (CheckAccountRequest) returns (CheckAccountResponse) {};
  rpc AddAccount (AddAccountRequest) returns (AddAccountResponse) {};
  rpc Login (LoginRequest) returns (LoginResponse) {};
  rpc RefreshAccessToken(RefreshTokenRequest) returns (RefreshTokenResponse) {};
  rpc ApplyCourse (ApplyCourseReqeust) returns (ApplyCourseResponse) {}; 
}

